# Project-Specific Instructions for: SaaS Validation System

**Project Path:** /Users/jhazy/AI_Projects/_New Idea Design Flow
**Created:** January 14, 2025
**Purpose:** AI-powered landing page generation system for validating SaaS ideas

---

## ðŸŽ¯ PROJECT OVERVIEW

This project automates the creation of landing pages from video content to validate SaaS ideas in days instead of months.

**Core Philosophy:** Validate, don't build. Let data guide decisions, not opinions.

---

## ðŸ§ª MANDATORY TDD TESTING REQUIREMENTS

### **CRITICAL: After EVERY Code Change, You MUST:**

#### 1. **Write Tests FIRST (TDD)**
```javascript
// Example test structure using Playwright
import { test, expect } from '@playwright/test';

test.describe('Landing Page', () => {
  test('should load successfully', async ({ page }) => {
    await page.goto('http://localhost:6000');
    await expect(page).toHaveTitle(/AI Invoice Validator/);
  });

  test('should capture email', async ({ page }) => {
    await page.goto('http://localhost:6000');
    await page.fill('input[type="email"]', 'test@example.com');
    await page.click('button[type="submit"]');
    await expect(page.locator('.success')).toBeVisible();
  });
});
```

#### 2. **Run Automated Tests**
```bash
# Playwright
npx playwright test

# Puppeteer
npm test

# With screenshots
npx playwright test -- screenshot-on-failure
```

#### 3. **Take Screenshots for Verification**
```javascript
// After each build
const screenshot = await page.screenshot({
  path: 'screenshots/component-name-$(date).png',
  fullPage: true
});
```

#### 4. **Verify Manually**
- [ ] Page loads without errors
- [ ] All components render
- [ ] Email capture works
- [ ] Forms submit successfully
- [ ] Responsive on mobile/tablet/desktop
- [ ] No console errors

#### 5. **Document Test Results**
```bash
# Create test report
echo "Test run: $(date)" >> test-results.md
echo "Status: PASSED" >> test-results.md
echo "Screenshots: ./screenshots/" >> test-results.md
```

**NO EXCEPTIONS:** Every component, every function, every feature MUST be tested before being marked as complete.

---

## ðŸ“ MODULAR CODE STRUCTURE REQUIREMENTS

### **File Organization Principles:**

#### 1. **Component-Based Architecture**
Each component MUST be in its own file:

```
project/
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ Hero/
â”‚   â”‚   â”œâ”€â”€ Hero.tsx
â”‚   â”‚   â”œâ”€â”€ Hero.test.tsx
â”‚   â”‚   â”œâ”€â”€ Hero.css
â”‚   â”‚   â””â”€â”€ README.md
â”‚   â”œâ”€â”€ EmailCapture/
â”‚   â”‚   â”œâ”€â”€ EmailCapture.tsx
â”‚   â”‚   â”œâ”€â”€ EmailCapture.test.tsx
â”‚   â”‚   â””â”€â”€ EmailCapture.css
â”‚   â””â”€â”€ Features/
â”‚       â”œâ”€â”€ Features.tsx
â”‚       â”œâ”€â”€ Features.test.tsx
â”‚       â””â”€â”€ Features.css
```

#### 2. **Single Responsibility**
- Each file does ONE thing well
- Files under 300 lines preferred
- If over 500 lines, split into smaller modules
- Easy to test, easy to maintain

#### 3. **Clear Imports**
```typescript
// âœ… GOOD - Clear, modular imports
import { Hero } from './components/Hero/Hero';
import { EmailCapture } from './components/EmailCapture/EmailCapture';

// âŒ BAD - Vague imports
import { Hero, EmailCapture, Features, Footer } from './components';
```

#### 4. **Silo Changes**
- Editing Hero component should NOT affect Features
- Changing email capture should NOT break navigation
- Each component is independent and isolated
- Changes are contained, not cascading

#### 5. **Component README**
Each component folder MUST have a README.md:

```markdown
# Hero Component

**Purpose:** Main landing page hero with CTA

**Props:**
- `headline`: string
- `subheadline`: string
- `ctaText`: string

**Dependencies:**
- React
- CSS Modules

**Test Coverage:** 100%

**Last Updated:** 2025-01-14
```

---

## ðŸ—ï¸ PROJECT FOLDER STRUCTURE

```
saas-validation-system/
â”‚
â”œâ”€â”€ ðŸ“š docs/                      # Documentation
â”‚   â”œâ”€â”€ SKILL.md                  # Skill overview
â”‚   â”œâ”€â”€ QUICKSTART.md             # Getting started
â”‚   â”œâ”€â”€ ADVANCED.md               # Advanced usage
â”‚   â”œâ”€â”€ TOOLS.md                  # Tool reference
â”‚   â””â”€â”€ SOURCE_MATERIAL.md        # Original source
â”‚
â”œâ”€â”€ ðŸ¤– scripts/                   # Automation scripts
â”‚   â”œâ”€â”€ validate.sh               # Main pipeline
â”‚   â”œâ”€â”€ test-all.sh               # Run all tests
â”‚   â””â”€â”€ screenshot-report.sh      # Generate screenshots
â”‚
â”œâ”€â”€ âš™ï¸ config/                    # Configuration files
â”‚   â”œâ”€â”€ .env.example              # Environment template
â”‚   â”œâ”€â”€ vercel.json               # Vercel config
â”‚   â””â”€â”€ prompts/                  # AI prompt templates
â”‚       â”œâ”€â”€ conversion-focused.txt
â”‚       â””â”€â”€ minimal.txt
â”‚
â”œâ”€â”€ ðŸŽ¨ components/                # React/HTML components
â”‚   â”œâ”€â”€ Hero/
â”‚   â”‚   â”œâ”€â”€ Hero.tsx
â”‚   â”‚   â”œâ”€â”€ Hero.test.tsx
â”‚   â”‚   â”œâ”€â”€ Hero.css
â”‚   â”‚   â””â”€â”€ README.md
â”‚   â”œâ”€â”€ EmailCapture/
â”‚   â”‚   â”œâ”€â”€ EmailCapture.tsx
â”‚   â”‚   â”œâ”€â”€ EmailCapture.test.tsx
â”‚   â”‚   â”œâ”€â”€ EmailCapture.ts       # Types
â”‚   â”‚   â””â”€â”€ README.md
â”‚   â”œâ”€â”€ Features/
â”‚   â”‚   â”œâ”€â”€ Features.tsx
â”‚   â”‚   â”œâ”€â”€ Features.test.tsx
â”‚   â”‚   â””â”€â”€ README.md
â”‚   â””â”€â”€ SocialProof/
â”‚       â”œâ”€â”€ SocialProof.tsx
â”‚       â”œâ”€â”€ SocialProof.test.tsx
â”‚       â””â”€â”€ README.md
â”‚
â”œâ”€â”€ ðŸ§ª tests/                     # Test suites
â”‚   â”œâ”€â”€ setup.ts                  # Test configuration
â”‚   â”œâ”€â”€ helpers/                  # Test utilities
â”‚   â”‚   â”œâ”€â”€ render.tsx
â”‚   â”‚   â””â”€â”€ mock-data.ts
â”‚   â”œâ”€â”€ integration/              # Integration tests
â”‚   â”‚   â”œâ”€â”€ landing-page.spec.ts
â”‚   â”‚   â””â”€â”€ email-capture.spec.ts
â”‚   â””â”€â”€ e2e/                      # End-to-end tests
â”‚       â”œâ”€â”€ user-flow.spec.ts
â”‚       â””â”€â”€ validation.spec.ts
â”‚
â”œâ”€â”€ ðŸŽ­ playwright/                # Playwright E2E tests
â”‚   â”œâ”€â”€ playwright.config.ts
â”‚   â”œâ”€â”€ tests/
â”‚   â”‚   â”œâ”€â”€ landing-page.spec.ts
â”‚   â”‚   â””â”€â”€ email-form.spec.ts
â”‚   â””â”€â”€ screenshots/              # Test screenshots
â”‚       â”œâ”€â”€ desktop/
â”‚       â”œâ”€â”€ mobile/
â”‚       â””â”€â”€ tablet/
â”‚
â”œâ”€â”€ ðŸ“Š screenshots/               # Manual screenshots
â”‚   â”œâ”€â”€ components/               # Component screenshots
â”‚   â”œâ”€â”€ pages/                    # Page screenshots
â”‚   â””â”€â”€ test-results/             # Test failure screenshots
â”‚
â”œâ”€â”€ ðŸš€ functions/                 # Backend functions
â”‚   â”œâ”€â”€ capture-email/
â”‚   â”‚   â”œâ”€â”€ index.ts
â”‚   â”‚   â”œâ”€â”€ index.test.ts
â”‚   â”‚   â””â”€â”€ README.md
â”‚   â””â”€â”€ export-leads/
â”‚       â”œâ”€â”€ index.ts
â”‚       â”œâ”€â”€ index.test.ts
â”‚       â””â”€â”€ README.md
â”‚
â”œâ”€â”€ ðŸ“¦ templates/                 # Generated templates
â”‚   â”œâ”€â”€ landing-page/
â”‚   â”‚   â”œâ”€â”€ index.html
â”‚   â”‚   â”œâ”€â”€ main.css
â”‚   â”‚   â””â”€â”€ main.js
â”‚   â””â”€â”€ backend/
â”‚       â”œâ”€â”€ migrations/
â”‚       â””â”€â”€ schema.sql
â”‚
â”œâ”€â”€ ðŸ“ˆ examples/                  # Usage examples
â”‚   â”œâ”€â”€ youtube-validation/
â”‚   â”œâ”€â”€ manual-idea/
â”‚   â”œâ”€â”€ ab-testing/
â”‚   â””â”€â”€ batch-processing/
â”‚
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ workflows/
â”‚       â””â”€â”€ deploy.yml            # CI/CD with tests
â”‚
â”œâ”€â”€ .env                          # Environment variables
â”œâ”€â”€ .claude                       # THIS FILE
â”œâ”€â”€ package.json                  # Dependencies
â”œâ”€â”€ tsconfig.json                 # TypeScript config
â”œâ”€â”€ playwright.config.ts          # Playwright config
â”œâ”€â”€ jest.config.js                # Jest config
â””â”€â”€ README.md                     # Project README
```

---

## ðŸ”§ CODE QUALITY STANDARDS

### **Before Marking Any Task Complete:**

1. **Tests Pass**
   ```bash
   npm test                    # Unit tests
   npx playwright test        # E2E tests
   ```

2. **Screenshots Captured**
   ```bash
   ./scripts/screenshot-report.sh
   ```

3. **No Console Errors**
   ```javascript
   // Add error boundary
   window.addEventListener('error', (e) => {
     console.error('Error:', e);
   });
   ```

4. **Responsive Design Verified**
   - Mobile: 375px - 768px
   - Tablet: 768px - 1024px
   - Desktop: 1024px+

5. **Performance Check**
   - Lighthouse score > 90
   - First Contentful Paint < 2s
   - Time to Interactive < 3s

6. **Accessibility**
   - ARIA labels present
   - Keyboard navigation works
   - Screen reader friendly

7. **Code Review Checklist**
   - [ ] File under 500 lines (if not, split it)
   - [ ] Each function does ONE thing
   - [ ] Clear variable names
   - [ ] Comments explain WHY, not WHAT
   - [ ] No hardcoded values (use constants)
   - [ ] Error handling present
   - [ ] Types defined (if TypeScript)

---

## ðŸ§ª TESTING FRAMEWORK SETUP

### **Playwright Configuration**
```typescript
// playwright.config.ts
import { defineConfig, devices } from '@playwright/test';

export default defineConfig({
  testDir: './playwright/tests',
  fullyParallel: true,
  forbidOnly: !!process.env.CI,
  retries: process.env.CI ? 2 : 0,
  workers: process.env.CI ? 1 : undefined,
  reporter: 'html',
  use: {
    baseURL: 'http://localhost:6000',
    trace: 'on-first-retry',
    screenshot: 'only-on-failure',
  },
  projects: [
    {
      name: 'chromium',
      use: { ...devices['Desktop Chrome'] },
    },
    {
      name: 'Mobile Chrome',
      use: { ...devices['Pixel 5'] },
    },
  ],
});
```

### **Test Template**
```typescript
// Component test template
import { test, expect } from '@playwright/test';

test.describe('ComponentName', () => {
  test.beforeEach(async ({ page }) => {
    await page.goto('/component-path');
  });

  test('should render without errors', async ({ page }) => {
    await expect(page.locator('.component-class')).toBeVisible();
  });

  test('should handle user interaction', async ({ page }) => {
    await page.click('.button');
    await expect(page.locator('.result')).toHaveText('Success');
  });

  test('should be responsive', async ({ page }) => {
    // Mobile
    await page.setViewportSize({ width: 375, height: 667 });
    await expect(page.locator('.mobile-menu')).toBeVisible();

    // Desktop
    await page.setViewportSize({ width: 1920, height: 1080 });
    await expect(page.locator('.desktop-menu')).toBeVisible();
  });
});
```

---

## ðŸ“‹ DEVELOPMENT WORKFLOW

### **For Each New Feature:**

1. **Create Component Directory**
   ```bash
   mkdir -p components/NewFeature/{__tests__,screenshots}
   ```

2. **Write Test FIRST**
   ```bash
   touch components/NewFeature/NewFeature.test.tsx
   # Write test cases before implementation
   ```

3. **Implement Component**
   ```bash
   touch components/NewFeature/NewFeature.tsx
   # Write code to pass tests
   ```

4. **Run Tests**
   ```bash
   npm test -- NewFeature
   ```

5. **Take Screenshots**
   ```bash
   npx playwright screenshot components/NewFeature/screenshots/
   ```

6. **Document**
   ```bash
   # Update README.md with usage examples
   ```

7. **Verify**
   - [ ] All tests pass
   - [ ] Screenshots look correct
   - [ ] No console errors
   - [ ] Responsive on all devices
   - [ ] Documentation updated

8. **Mark Complete**
   Only after ALL above are checked âœ…

---

## ðŸš¨ STOP CONDITIONS

**Do NOT mark a task complete if:**
- âŒ Any test fails
- âŒ No tests written
- âŒ No screenshots taken
- âŒ Console has errors
- âŒ File is 500+ lines (needs splitting)
- âŒ Component is tightly coupled (needs decoupling)
- âŒ No documentation (needs README)
- âŒ Hardcoded values present (needs constants)
- âŒ Error handling missing

---

## ðŸ“Š METRICS TO TRACK

- **Test Coverage:** > 90%
- **File Size:** < 500 lines per file
- **Component Count:** Track components > 500 lines
- **Test Failures:** Zero tolerance
- **Screenshot Updates:** After every visual change
- **Console Errors:** Zero tolerance

---

## ðŸŽ¯ SUCCESS CRITERIA

**A feature is COMPLETE when:**
1. âœ… All tests pass (unit + integration + e2e)
2. âœ… Screenshots captured and verified
3. âœ… No console errors
4. âœ… Responsive on all devices
5. âœ… Accessibility verified
6. âœ… Performance acceptable (>90 Lighthouse)
7. âœ… Documented in README
8. âœ… Code review passed
9. âœ… File size acceptable (<500 lines)
10. âœ… Component is modular and independent

**If ANY of these fail, the feature is NOT complete.**

---

## ðŸ”„ CONTINUOUS IMPROVEMENT

### **Weekly Reviews:**
- Check for files > 500 lines
- Identify test gaps
- Update screenshots
- Refactor tightly coupled code
- Improve test coverage

### **Monthly Audits:**
- Performance optimization
- Accessibility audit
- Security scan
- Dependency updates
- Documentation review

---

**Remember:** Quality over speed. It's better to take 2 hours and do it right than 30 minutes and create technical debt.

**Every line of code must be tested. Every component must be verified. Every change must be documented.**

**NO EXCEPTIONS.**
